<?php
//Template Name: Home
	get_header();
?>
	<section id="hero">
		<h1>L'association<br>des <span class="keyword">passioné.e.s</span></h1>
		<h3>Forgeons l'avenir du jeu vidéo, un pixel à la fois</h3>
		<a href="PXLR/contact">Nous rejoindre</a>
	</section>
	<section id="about">
		<div data-aos="fade-right" class="info">
			<h2>Qui sommes <span class="keyword">nous</span> ?</h2>
			<p>La Pixellerie, c'est l'association des passionnées de jeux vidéo qui souhaitent aller au-delà du simple plaisir de jouer pour se plonger dans la création. Développeurs, designers, scénaristes, musiciens ou simples curieux : ici, chaque talent trouve sa place pour imaginer et concevoir ensemble des univers uniques et captivants.</p>
			<a href="PXLR/contact">Nous rejoindre</a>
		</div>
		<img data-aos="fade-left" src="<?php bloginfo('template_url') ?>/assets/img/Lesgrosgeek.png">">
	</section>
	<section id="actions">
		<h2>Nos <span class="keyword">actions</span></h2>
		<div>
			<div class="act">
				<div class="cards">
					<div data-aos="zoom-out" class="card">
							<div class="top">
								<svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M26.6667 10H23.3333C21.5652 10 19.8695 10.7024 18.6193 11.9526C17.369 13.2029 16.6667 14.8986 16.6667 16.6667V33.3333C16.6667 35.1014 15.9643 36.7971 14.714 38.0474C13.4638 39.2976 11.7681 40 10 40C11.7681 40 13.4638 40.7024 14.714 41.9526C15.9643 43.2029 16.6667 44.8986 16.6667 46.6667V63.3333C16.6667 67 19.6667 70 23.3333 70H26.6667" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M53.3333 70H56.6666C58.4348 70 60.1304 69.2976 61.3807 68.0474C62.6309 66.7971 63.3333 65.1014 63.3333 63.3333V46.6667C63.3333 43 66.3333 40 70 40C68.2319 40 66.5362 39.2976 65.2859 38.0474C64.0357 36.7971 63.3333 35.1014 63.3333 33.3333V16.6667C63.3333 14.8986 62.6309 13.2029 61.3807 11.9526C60.1304 10.7024 58.4348 10 56.6666 10H53.3333" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								</svg>

								<h3>Developpement</h3>
							</div>
						<p>Donner vie aux idées en programmant les mécaniques de jeu, en intégrant les éléments graphiques et sonores, et en s’assurant que tout fonctionne parfaitement.</p>
					</div>
					<div data-aos="zoom-out" class="card">
							<div class="top">
								<svg width="81" height="81" viewBox="0 0 81 81" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M64.1252 37.125L37.1252 10.125L8.10019 39.15C6.86341 40.4118 6.17065 42.1082 6.17065 43.875C6.17065 45.6418 6.86341 47.3382 8.10019 48.6L25.6502 66.15C28.3502 68.85 32.4002 68.85 35.1002 66.15L64.1252 37.125Z" stroke="white" stroke-width="6.75" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M16.875 6.75L33.75 23.625" stroke="white" stroke-width="6.75" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M6.75 43.875H57.375" stroke="white" stroke-width="6.75" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M74.25 67.5C74.25 69.2902 73.5388 71.0071 72.273 72.273C71.0071 73.5388 69.2902 74.25 67.5 74.25C65.7098 74.25 63.9929 73.5388 62.727 72.273C61.4612 71.0071 60.75 69.2902 60.75 67.5C60.75 62.1 66.4875 59.4 67.5 54C68.5125 59.4 74.25 62.1 74.25 67.5Z" stroke="white" stroke-width="6.75" stroke-linecap="round" stroke-linejoin="round"/>
								</svg>


								<h3>Design</h3>
							</div>
						<p>Donner vie aux idées en programmant les mécaniques de jeu, en intégrant les éléments graphiques et sonores, et en s’assurant que tout fonctionne parfaitement.</p>
					</div>
				</div>
				<div class="cards">
					<div data-aos="zoom-out" class="card">
							<div class="top">
								<svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M39.6666 40.333L54.7133 25.2864" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M67 7.66672C66.377 7.05597 65.5392 6.71387 64.6667 6.71387C63.7942 6.71387 62.9565 7.05597 62.3334 7.66672L58.62 11.3801C57.3697 12.63 56.6671 14.3254 56.6667 16.0934V20.5734C56.6663 22.3414 55.9637 24.0368 54.7134 25.2867C55.9633 24.0364 57.6587 23.3338 59.4267 23.3334H63.9067C65.6747 23.333 67.3701 22.6304 68.62 21.3801L72.3334 17.6667C72.9441 17.0436 73.2862 16.2059 73.2862 15.3334C73.2862 14.4609 72.9441 13.6232 72.3334 13.0001L67 7.66672Z" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M20 53.3333L26.6667 59.9999" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M27.3333 33.0001C29 29.3334 32.6667 26.6667 36.6667 26.6667C46 26.6667 53.3333 34.0001 53.3333 43.3334C53.3333 47.3334 50.6667 51.0001 47 52.6667L44 54.0001C42.8281 54.5113 41.828 55.3488 41.1187 56.4126C40.4095 57.4764 40.0212 58.7217 40 60.0001C40 63.5363 38.5952 66.9277 36.0947 69.4282C33.5943 71.9287 30.2029 73.3334 26.6667 73.3334C15.6667 73.3334 6.66666 64.3334 6.66666 53.3334C6.66666 49.7972 8.07141 46.4058 10.5719 43.9053C13.0724 41.4048 16.4638 40.0001 20 40.0001C21.2784 39.9789 22.5237 39.5905 23.5875 38.8813C24.6513 38.1721 25.4887 37.172 26 36.0001L27.3333 33.0001Z" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M38.3333 43.3333C39.2538 43.3333 40 42.5871 40 41.6667C40 40.7462 39.2538 40 38.3333 40C37.4128 40 36.6667 40.7462 36.6667 41.6667C36.6667 42.5871 37.4128 43.3333 38.3333 43.3333Z" fill="white" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								</svg>


								<h3>Musique</h3>
							</div>
						<p>Donner vie aux idées en programmant les mécaniques de jeu, en intégrant les éléments graphiques et sonores, et en s’assurant que tout fonctionne parfaitement.</p>
					</div>
					<div data-aos="zoom-out" class="card">
							<div class="top">
								<svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M10 36.6667L70 20V60L10 46.6667V36.6667Z" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M38.6666 55.9998C38.3164 57.2693 37.7196 58.4573 36.9103 59.4961C36.1009 60.5349 35.0949 61.4041 33.9497 62.0542C32.8044 62.7042 31.5423 63.1222 30.2355 63.2845C28.9287 63.4468 27.6027 63.35 26.3332 62.9998C25.0638 62.6496 23.8758 62.0528 22.837 61.2435C21.7982 60.4342 20.9289 59.4282 20.2789 58.2829C19.6289 57.1377 19.2108 55.8756 19.0486 54.5688C18.8863 53.2619 18.9831 51.9359 19.3332 50.6665" stroke="white" stroke-width="6.66667" stroke-linecap="round" stroke-linejoin="round"/>
								</svg>


								<h3>Communication</h3>
							</div>
						<p>Donner vie aux idées en programmant les mécaniques de jeu, en intégrant les éléments graphiques et sonores, et en s’assurant que tout fonctionne parfaitement.</p>
					</div>
				</div>
				
				
			</div>
		</div>
	</section>
	<section class="valors">
					<h2>Nos<span class="keyword"> valeurs</span></h2>
					<div class="valor">
						<div data-aos="fade-right" class="vtxt">
							<ul style="items">
								<li>
									<div class="t-valor">
										<h4>Partage</h4>
										<svg width="85" height="86" viewBox="0 0 85 86" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M63.0195 35.3467L57.8897 30.2168L42.5 45.6064L27.1104 30.2168L21.9805 35.3467L42.5 55.8662L63.0195 35.3467Z" fill="white"/>
										</svg>
									</div>
									<p class="content hide"> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam voluptates pariatur aspernatur similique delectus soluta, omnis non, ipsam molestias quis officiis reiciendis! Minus laboriosam minima voluptatum, rerum expedita voluptas quisquam.</p>
								</li>
								<li>
									<div class="t-valor">
										<h4>Créativité</h4>
										<svg width="85" height="86" viewBox="0 0 85 86" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M63.0195 35.3467L57.8897 30.2168L42.5 45.6064L27.1104 30.2168L21.9805 35.3467L42.5 55.8662L63.0195 35.3467Z" fill="white"/>
										</svg>
									</div>
									<p class="content hide"> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam voluptates pariatur aspernatur similique delectus soluta, omnis non, ipsam molestias quis officiis reiciendis! Minus laboriosam minima voluptatum, rerum expedita voluptas quisquam.</p>
								</li>
								<li>
									<div class="t-valor">
										<h4>PAssion</h4>
										<svg width="85" height="86" viewBox="0 0 85 86" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M63.0195 35.3467L57.8897 30.2168L42.5 45.6064L27.1104 30.2168L21.9805 35.3467L42.5 55.8662L63.0195 35.3467Z" fill="white"/>
										</svg>
									</div>
									<p class="content hide"> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam voluptates pariatur aspernatur similique delectus soluta, omnis non, ipsam molestias quis officiis reiciendis! Minus laboriosam minima voluptatum, rerum expedita voluptas quisquam.</p>
								</li>
								<li>
									<div class="t-valor">
										<h4>Communauté</h4>
										<svg width="85" height="86" viewBox="0 0 85 86" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M63.0195 35.3467L57.8897 30.2168L42.5 45.6064L27.1104 30.2168L21.9805 35.3467L42.5 55.8662L63.0195 35.3467Z" fill="white"/>
										</svg>
									</div>
									<p class="content hide"> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam voluptates pariatur aspernatur similique delectus soluta, omnis non, ipsam molestias quis officiis reiciendis! Minus laboriosam minima voluptatum, rerum expedita voluptas quisquam.</p>
								</li>
								
							</ul>
						</div>
						<div data-aos="fade-left" class="photo">
							<div class="p-top">
								<img src="<?php bloginfo('template_url') ?>/assets/img/image3.png">
								<img src="<?php bloginfo('template_url') ?>/assets/img/image4.png">
							</div>
							<img class="p-bot" src="<?php bloginfo('template_url') ?>/assets/img/image5.png">
						</div>
					</div>
				
	</section>
	<section class="planning">
    <h2>Le<span class="keyword"> planning</span></h2>
    <div class="pcards">
        <?php
        $recent_events = get_posts(array(
            'post_type'      => 'event',
            'posts_per_page' => 3, // Récupérer les 3 plus récents
            'orderby'        => 'date',
            'order'          => 'DESC'
        ));

        if (!empty($recent_events)) {
            foreach ($recent_events as $event) {
                $event_id = $event->ID;
                $event_title = get_the_title($event_id);
                $event_date = get_the_date('d/m/Y', $event_id);
                $event_excerpt = get_the_excerpt($event_id);
                $event_link = get_permalink($event_id);
                $event_image = get_the_post_thumbnail_url($event_id, 'medium'); // Récupère l’image mise en avant
                if (!$event_image) {
                    $event_image = get_template_directory_uri() . '/assets/img/image6.png'; // Image par défaut
                }
                ?>
                
                <div data-aos="zoom-out" class="pcard">
                    <img class ="cardimg" src="<?php echo esc_url($event_image); ?>" alt="<?php echo esc_attr($event_title); ?>">
                    <div class="pinfos">
                        <div class="ptop">
                            <p class="pitre"><a href="<?php echo esc_url($event_link); ?>"><?php echo esc_html($event_title); ?></a></p>
                            <p class="date"><?php echo esc_html($event_date); ?></p>
                        </div>
                        <p class="pexte"><?php echo esc_html($event_excerpt); ?></p>
                    </div>
                </div>

                <?php
            }
        } else {
            echo "<p>Aucun événement récent trouvé.</p>";
        }
        ?>
    </div>
    
</section>


	
	<?php
		get_footer();
	?>

<script>
	
     // Sélectionne toutes les listes
  document.querySelectorAll("li").forEach(item => {
    // Ajoute des événements de clic sur le titre et le SVG
    item.querySelector("h4").addEventListener("click", () => toggleContent(item));
    item.querySelector("svg").addEventListener("click", () => toggleContent(item));
  });

  // Fonction pour afficher/masquer le contenu
  function toggleContent(item) {
    const content = item.querySelector(".content");
    if (content) {
      content.classList.toggle("hide");
    }
  }


// Sélectionne tous les éléments <li>
const listItems = document.querySelectorAll("li");

listItems.forEach((item) => {
  // Ajoute un écouteur d'événements au clic
  item.addEventListener("click", () => {
    // Vérifie si l'élément est déjà actif
    const isActive = item.classList.contains("active2");

    // Réinitialise tous les <li> et contenus
    listItems.forEach((li) => li.classList.remove("active2"));
    const allContents = document.querySelectorAll(".content");
    allContents.forEach((content) => content.classList.remove("show"));

    // Si l'élément n'était pas actif, l'ouvrir
    if (!isActive) {
      item.classList.add("active2"); // Ajoute la classe active
      const content = item.querySelector(".content"); // Sélectionne le paragraphe
      content.classList.add("show"); // Affiche le contenu
    }
  });
});

</script>